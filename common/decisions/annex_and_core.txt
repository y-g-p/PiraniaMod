annex_and_core = {
    supper_annex_1 = {
        available = {
			has_core_occupation_modifier = {
				occupied_country_tag = FROM
				modifier = compliance_80
			}
		}
        visible = {
			has_core_occupation_modifier = {
				occupied_country_tag = FROM
				modifier = compliance_60
			}
        }

        cost = 100

		complete_effect = {
            FROM = {
                for_each_loop = {
                    array = core_states

                    ROOT = {
                        add_state_core = v
                    }
                    remove_state_core = v
                }
            }
        }
		
		target_non_existing = yes
		target_array = occupied_countries

        ai_will_do = { factor = 0 }
    }

    supper_annex_2 = {
        available = {
            FROM = {
                is_puppet_of = ROOT
            }
            FROM = {
                has_autonomy_state = autonomy_collaboration_government
            }
        }
        visible = {
            FROM = {
                is_puppet_of = ROOT
            }
        }

        cost = 200

        target_array = subjects

        target_trigger = {
            FROM = {
                is_puppet_of = ROOT
            }
        }

        complete_effect = {
            FROM = {
                for_each_loop = {
                    array = controlled_states

                    ROOT = {
                        add_state_core = v
                    }
                }
            }

            ROOT = {
                annex_country = {
                    target = FROM
                    transfer_troops = yes
                }
                add_stability = -0.1
            }
		}

        ai_will_do = { factor = 0 }
    }
}